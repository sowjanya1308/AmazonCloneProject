"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[812],{5105:(e,t,s)=>{s.d(t,{Z:()=>i});const i=s(5662).Z.create({baseURL:"//localhost:5000/api/v1",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*"}})},8812:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var i=s(7313),a=s(3394),n=s(5537),r=s(5105);const o=e=>r.Z.post("/login",e),l=e=>r.Z.post("/register",e);var h=s(581),u=s(6872),d=s(6417);const c=e=>{const t=(0,n.I0)(),{loading:s,response:r,userDetails:c,loggedin:p}=(0,n.v9)((e=>e.user)),m={name:"",email:"",phone:"",password:"",cpassword:""},[v,b]=(0,i.useState)(!1),[x,Z]=(0,i.useState)(m),g=e=>{const t=e.target.id;Z({...x,[t]:e.target.value})},{mutate:w}=(0,h.D)({mutationFn:v?l:o,onSuccess:e=>{console.log(e),t((0,u.vg)(e.data.message)),t((0,u.jU)(e.data.user))},onError:e=>{console.log(e)}});return(0,d.jsx)(d.Fragment,{children:e.showPopup?(0,d.jsx)("div",{className:"fixed popup-wrapper",children:(0,d.jsxs)("div",{className:"shadow-lg popup-container flex-col rounded justify-center items-center p-5 z-10 bg-white",children:[(0,d.jsx)("button",{onClick:e.close,className:"absolute top-3 right-4",children:(0,d.jsx)(a.Lp2,{size:25})}),(0,d.jsx)("h1",{className:"text-2xl text-center mb-5 font-bold",children:v?"SIGNUP":"LOGIN"}),(0,d.jsxs)("form",{onSubmit:v?e=>{e.preventDefault(),w(x)}:e=>{e.preventDefault(),w({email:x.email,password:x.password})},children:[v?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("label",{htmlFor:"name",children:"Name"}),(0,d.jsx)("input",{className:"input-field mb-4",onChange:g,value:x.name,id:"name",type:"text"})]}):(0,d.jsx)(d.Fragment,{}),(0,d.jsx)("label",{htmlFor:"email",children:"Email"}),(0,d.jsx)("input",{className:"input-field mb-4",id:"email",onChange:g,value:x.email,type:"email"}),v?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,d.jsx)("input",{className:"input-field mb-4",type:"phone",onChange:g,value:x.phone,id:"phone"})]}):(0,d.jsx)(d.Fragment,{}),(0,d.jsx)("label",{htmlFor:"password",children:"password"}),(0,d.jsx)("input",{className:"input-field ".concat(v?"mb-4":""),onChange:g,value:x.password,type:"password",id:"password"}),v?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("label",{htmlFor:"cpassword",children:"Confirm password"}),(0,d.jsx)("input",{className:"input-field mb-4",type:"password",onChange:g,value:x.cpassword,id:"cpassword"})]}):(0,d.jsx)(d.Fragment,{}),v?(0,d.jsx)(d.Fragment,{}):(0,d.jsx)("a",{href:"/",className:"text-[13px] text-blue-500 hover:underline",children:"forgot password?"}),(0,d.jsx)("button",{type:"submit",className:"px-3 py-1 bg-rose-600 h-[35px] rounded text-white w-full mt-4",children:v?"SIGNUP":"LOGIN"})]}),(0,d.jsx)("hr",{className:"my-5 border"}),(0,d.jsxs)("p",{onClick:v?()=>{b(!1),Z(m)}:()=>{b(!0),Z(m)},className:"text-center",children:[v?"Already a Member?":"Not a Member?"," ",(0,d.jsx)("span",{className:"text-blue-600 hover:underline cursor-pointer",children:v?"login":"Signup now"})]})]})}):(0,d.jsx)(d.Fragment,{})})}},581:(e,t,s)=>{s.d(t,{D:()=>y});var i,a,n,r,o,l,h=s(7313),u=s(101),d=s(2346),c=s(6033),p=s(3889),m=s(3092),v=s(3547),b=s(8127),x=s(7542),Z=s(6587),g=(i=new WeakMap,a=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakSet,l=new WeakSet,class extends x.l{constructor(e,t){super(),(0,u.Z)(this,l),(0,u.Z)(this,o),(0,d.Z)(this,i,{writable:!0,value:void 0}),(0,d.Z)(this,a,{writable:!0,value:void 0}),(0,d.Z)(this,n,{writable:!0,value:void 0}),(0,d.Z)(this,r,{writable:!0,value:void 0}),(0,m.Z)(this,a,void 0),(0,m.Z)(this,i,e),this.setOptions(t),this.bindMethods(),(0,p.Z)(this,o,w).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const s=this.options;this.options=(0,c.Z)(this,i).defaultMutationOptions(e),(0,Z.VS)(s,this.options)||(0,c.Z)(this,i).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,c.Z)(this,n),observer:this}),null===(t=(0,c.Z)(this,n))||void 0===t||t.setOptions(this.options),null!==s&&void 0!==s&&s.mutationKey&&this.options.mutationKey&&(0,Z.Ym)(s.mutationKey)!==(0,Z.Ym)(this.options.mutationKey)&&this.reset()}onUnsubscribe(){var e;this.hasListeners()||(null===(e=(0,c.Z)(this,n))||void 0===e||e.removeObserver(this))}onMutationUpdate(e){(0,p.Z)(this,o,w).call(this),(0,p.Z)(this,l,f).call(this,e)}getCurrentResult(){return(0,c.Z)(this,a)}reset(){var e;null===(e=(0,c.Z)(this,n))||void 0===e||e.removeObserver(this),(0,m.Z)(this,n,void 0),(0,p.Z)(this,o,w).call(this),(0,p.Z)(this,l,f).call(this)}mutate(e,t){var s;return(0,m.Z)(this,r,t),null===(s=(0,c.Z)(this,n))||void 0===s||s.removeObserver(this),(0,m.Z)(this,n,(0,c.Z)(this,i).getMutationCache().build((0,c.Z)(this,i),this.options)),(0,c.Z)(this,n).addObserver(this),(0,c.Z)(this,n).execute(e)}});function w(){var e,t;const s=null!==(e=null===(t=(0,c.Z)(this,n))||void 0===t?void 0:t.state)&&void 0!==e?e:(0,v.R)();(0,m.Z)(this,a,{...s,isPending:"pending"===s.status,isSuccess:"success"===s.status,isError:"error"===s.status,isIdle:"idle"===s.status,mutate:this.mutate,reset:this.reset})}function f(e){b.V.batch((()=>{if((0,c.Z)(this,r)&&this.hasListeners()){const d=(0,c.Z)(this,a).variables,p=(0,c.Z)(this,a).context;var t,s,i,n;if("success"===(null===e||void 0===e?void 0:e.type))null===(t=(s=(0,c.Z)(this,r)).onSuccess)||void 0===t||t.call(s,e.data,d,p),null===(i=(n=(0,c.Z)(this,r)).onSettled)||void 0===i||i.call(n,e.data,null,d,p);else if("error"===(null===e||void 0===e?void 0:e.type)){var o,l,h,u;null===(o=(l=(0,c.Z)(this,r)).onError)||void 0===o||o.call(l,e.error,d,p),null===(h=(u=(0,c.Z)(this,r)).onSettled)||void 0===h||h.call(u,void 0,e.error,d,p)}}this.listeners.forEach((e=>{e((0,c.Z)(this,a))}))}))}var j=s(7109),N=s(4772);function y(e,t){const s=(0,j.NL)(t),[i]=h.useState((()=>new g(s,e)));h.useEffect((()=>{i.setOptions(e)}),[i,e]);const a=h.useSyncExternalStore(h.useCallback((e=>i.subscribe(b.V.batchCalls(e))),[i]),(()=>i.getCurrentResult()),(()=>i.getCurrentResult())),n=h.useCallback(((e,t)=>{i.mutate(e,t).catch(C)}),[i]);if(a.error&&(0,N.L)(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:n,mutateAsync:a.mutate}}function C(){}}}]);